import"rxjs";import"rxjs/operators";import{unsubscribe as r}from"../utils/observable.min.js";import{getFlattenFragmentChildren as o}from"../utils/fragment.min.js";import{renderChildInIndexPosition as e,removeChildFromIndexPosition as m,replaceChildOnIndexPosition as t}from"../dom-renderer.min.js";const i=(o,e,m,i,s)=>n=>{const d=o.elementSubscription;d&&s.add(d),t(o=>{r(n),i.add(e,{...o,subscription:d})},o.dom,e,m,i)},s=(e,t,i,s,n)=>t=>{t.fragmentChildIndexes.reduce(o(n,!0),[]).forEach(o=>{m(e=>{r(e),n.remove(o)},o,s,n)}),r(t),n.removeFragment(i),e()},n=(r,o,m,t,i)=>()=>{const s=r.elementSubscription;s&&i.add(s),e(r=>t.add(o,{...r,subscription:s}),r.dom,o,m,t)};export{n as renderElement,i as replaceElementForElement,s as replaceFragmentForElement};

import"rxjs";import"rxjs/operators";import{unsubscribe as r}from"./utils/observable.min.js";import{removeChildFromIndexPosition as e}from"./dom-renderer.min.js";import{removeExistingFragment as t}from"./move-callback/utils.min.js";import{loadPreviousKeyedElements as n,renderFragmentChild as o,skipMoveOrRenderKeyedChild as m}from"./fragment-children.min.js";function i(i,s,a,c,f){return h=>{const l=a.getFragment(i),g=n(a,l);l.fragmentChildKeys={},((n,o,m,i,s,a)=>{const c=a.fragmentChildrenLength,f=i.children.length;if(c>f){const i=c-f;Array.from({length:i},(r,e)=>e+f).forEach(i=>{const a=`${n}.${i}`;m.has(a)?e(e=>{e.key&&s[e.key]||r(e),m.remove(e.index)},a,o,m):m.hasFragment(a)&&t(s,a,o,m)(m.getFragment(a))})}})(i,s,a,h,g,l),h.children.forEach(o(i,c,m(g,l,s,a,f),f))}}export{i as renderRvdFragment};

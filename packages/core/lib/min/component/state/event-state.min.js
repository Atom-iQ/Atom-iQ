import{ReplaySubject as r,pipe as t,throwError as e}from"rxjs";import{tap as o,catchError as n}from"rxjs/operators";export default s=>{const x=new r(1);return[x.asObservable(),r=>a=>{const m=s?s(r?r(a):a):r?r(a):a;return t(o(x.next),n(r=>(x.next(r),e(()=>r))))(m)}]};
